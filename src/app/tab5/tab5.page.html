<ion-header>
  <ion-toolbar color = "primary">
      <ion-buttons slot = "start">
        </ion-buttons>
    <section *ngIf ="(afAuth.user | async) as user; else loginTitle">
    <ion-title>마이페이지</ion-title>
    </section>
    <ng-template #loginTitle>
        <ion-title>로그인</ion-title>
    </ng-template>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <section *ngIf ="(afAuth.user | async) as user; else loginItems">
     <p align="center"><b>{{userid}}</b>님 안녕하세요!<br><br></p>
     <div align="center">
       <ion-avatar>
        <img id="upic" src="{{userpic}}">
      </ion-avatar>
      <ion-button shape="round" ion-button (click)="pickPicture()">
          <ion-icon name="image"></ion-icon>
      </ion-button>
    </div>
    <br><br>
    <ion-item>
         내가 쓴글
    </ion-item>
    <ion-item>
        내 제보
    </ion-item>
    <br><br>
    <div align="center">
    <ion-button (click)="logout()">로그아웃</ion-button>
    </div>
  </section>
  
  <ng-template #loginItems>
  <ion-list>
      <ion-item>
        <ion-label position="floating" id = "input-name">이메일</ion-label>
        <ion-input type="text" [(ngModel)]="username"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label position="floating" id ="input-password">비밀번호</ion-label>
        <ion-input type="password" [(ngModel)]="password"></ion-input>
      </ion-item>
  </ion-list>

  <ion-button fill="solid" expand="block" color="dark" (click)="login()">Login</ion-button>
  <br>
  <p align="center">
  아직 회원이 아니신가요?&nbsp;<button class="butn" [routerLink]="['/register']" routerDirection="forward">회원가입</button>
  </p>
</ng-template>
</ion-content>
